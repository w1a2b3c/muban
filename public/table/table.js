/*!
 * Layui
 * Classic modular Front-End UI library
 * MIT Licensed
 * 极品模板修改版
 * 增加自动行高、去除必须的field设置、表头完全获取原内容
 */
!function(a){"use strict";var j,b=a.document,c={modules:{},status:{},timeout:10,event:{}},d=function(){this.v="2.6.8"},e=a.LAYUI_GLOBAL||{},f=function(){var a=b.currentScript?b.currentScript.src:function(){var d,e,a=b.scripts,c=a.length-1;for(e=c;e>0;e--)if("interactive"===a[e].readyState){d=a[e].src;break}return d||a[c].src}();return c.dir=e.dir||a.substring(0,a.lastIndexOf("/")+1)}(),g=function(b,c){c=c||"log",a.console&&console[c]&&console[c]("layui error hint: "+b)},h="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),i=c.builtin={laytpl:"laytpl",table:"table",all:"all","layui.all":"layui.all"};d.prototype.cache=c,d.prototype.define=function(a,b){var d=this,e="function"==typeof a,f=function(){var a=function(a,b){layui[a]=b,c.status[a]=!0};return"function"==typeof b&&b(function(d,e){a(d,e),c.callback[d]=function(){b(a)}}),this};return e&&(b=a,a=[]),d.use(a,f,null,"define"),d},d.prototype.use=function(d,e,j,k){function q(a,b){var d="PLaySTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;("load"===a.type||d.test((a.currentTarget||a.srcElement).readyState))&&(c.modules[o]=b,n.removeChild(t),function e(){return++p>1e3*c.timeout/4?g(o+" is not a valid module","error"):(c.status[o]?r():setTimeout(e,4),void 0)}())}function r(){j.push(layui[o]),d.length>1?l.use(d.slice(1),e,j,k):"function"==typeof e&&function(){return layui.jquery&&"function"==typeof layui.jquery&&"define"!==k?layui.jquery(function(){e.apply(layui,j)}):(e.apply(layui,j),void 0)}()}var o,p,s,t,l=this,m=c.dir=c.dir?c.dir:f,n=b.getElementsByTagName("head")[0];return d=function(){return"string"==typeof d?[d]:"function"==typeof d?(e=d,["all"]):d}(),a.jQuery&&jQuery.fn.on&&(l.each(d,function(a,b){"jquery"===b&&d.splice(a,1)}),layui.jquery=layui.$=jQuery),o=d[0],p=0,j=j||[],c.host=c.host||(m.match(/\/\/([\s\S]+?)\//)||["//"+location.host+"/"])[0],0===d.length||layui["layui.all"]&&i[o]?(r(),l):(s=(i[o]?m+"modules/":/^\{\/\}/.test(l.modules[o])?"":c.base||"")+(l.modules[o]||o)+".js",s=s.replace(/^\{\/\}/,""),!c.modules[o]&&layui[o]&&(c.modules[o]=s),c.modules[o]?function u(){return++p>1e3*c.timeout/4?g(o+" is not a valid module","error"):("string"==typeof c.modules[o]&&c.status[o]?r():setTimeout(u,4),void 0)}():(t=b.createElement("script"),t.async=!0,t.charset="utf-8",t.src=s+function(){var a=c.version===!0?c.v||(new Date).getTime():c.version||"";return a?"?v="+a:""}(),n.appendChild(t),!t.attachEvent||t.attachEvent.toString&&t.attachEvent.toString().indexOf("[native code")<0||h?t.addEventListener("load",function(a){q(a,s)},!1):t.attachEvent("onreadystatechange",function(a){q(a,s)}),c.modules[o]=s),l)},d.prototype.getStyle=function(b,c){var d=b.currentStyle?b.currentStyle:a.getComputedStyle(b,null);return d[d.getPropertyValue?"getPropertyValue":"getAttribute"](c)},d.prototype.link=function(a,d,e){var j,k,l,m,f=this,h=b.getElementsByTagName("head")[0],i=b.createElement("link");return"string"==typeof d&&(e=d),j=(e||a).replace(/\.|\//g,""),k=i.id="layuicss-"+j,l="creating",m=0,i.rel="stylesheet",i.href=a+(c.debug?"?v="+(new Date).getTime():""),i.media="all",b.getElementById(k)||h.appendChild(i),"function"!=typeof d?f:(function n(e){var h=100,i=b.getElementById(k);return++m>1e3*c.timeout/h?g(a+" timeout"):(1989===parseInt(f.getStyle(i,"width"))?(e===l&&i.removeAttribute("lay-status"),i.getAttribute("lay-status")===l?setTimeout(n,h):d()):(i.setAttribute("lay-status",l),setTimeout(function(){n(l)},h)),void 0)}(),f)},d.prototype.addcss=function(a,b,d){return layui.link(c.dir+"css/"+a,b,d)},c.callback={},d.prototype.factory=function(a){return layui[a]?"function"==typeof c.callback[a]?c.callback[a]:null:void 0},d.prototype.img=function(a,b,c){var d=new Image;return d.src=a,d.complete?b(d):(d.onload=function(){d.onload=null,"function"==typeof b&&b(d)},d.onerror=function(a){d.onerror=null,"function"==typeof c&&c(a)},void 0)},d.prototype.config=function(a){a=a||{};for(var b in a)c[b]=a[b];return this},d.prototype.modules=function(){var b,a={};for(b in i)a[b]=i[b];return a}(),d.prototype.extend=function(a){var c,b=this;a=a||{};for(c in a)b[c]||b.modules[c]?g(c+" Module already exists","error"):b.modules[c]=a[c];return b},d.prototype.router=function(a){var b=this,a=a||location.hash,c={path:[],search:{},hash:(a.match(/[^#](#.*$)/)||[])[1]||""};return/^#\//.test(a)?(a=a.replace(/^#\//,""),c.href="/"+a,a=a.replace(/([^#])(#.*$)/,"$1").split("/")||[],b.each(a,function(a,b){/^\w+=/.test(b)?function(){b=b.split("="),c.search[b[0]]=b[1]}():c.path.push(b)}),c):c},d.prototype.url=function(a){var b=this,c={pathname:function(){var b=a?function(){var b=(a.match(/\.[^.]+?\/.+/)||[])[0]||"";return b.replace(/^[^\/]+/,"").replace(/\?.+/,"")}():location.pathname;return b.replace(/^\//,"").split("/")}(),search:function(){var c={},d=(a?function(){var b=(a.match(/\?.+/)||[])[0]||"";return b.replace(/\#.+/,"")}():location.search).replace(/^\?+/,"").split("&");return b.each(d,function(a,b){var d=b.indexOf("="),e=function(){return 0>d?b.substr(0,b.length):0===d?!1:b.substr(0,d)}();e&&(c[e]=d>0?b.substr(d+1):null)}),c}(),hash:b.router(function(){return a?(a.match(/#.+/)||[])[0]||"/":location.hash}())};return c},d.prototype.data=function(b,c,d){var e;if(b=b||"layui",d=d||localStorage,a.JSON&&a.JSON.parse){if(null===c)return delete d[b];c="object"==typeof c?c:{key:c};try{e=JSON.parse(d[b])}catch(f){e={}}return"value"in c&&(e[c.key]=c.value),c.remove&&delete e[c.key],d[b]=JSON.stringify(e),c.key?e[c.key]:e}},d.prototype.sessionData=function(a,b){return this.data(a,b,sessionStorage)},d.prototype.device=function(b){var c=navigator.userAgent.toLowerCase(),d=function(a){var b=new RegExp(a+"/([^\\s\\_\\-]+)");return a=(c.match(b)||[])[1],a||!1},e={os:function(){return/windows/.test(c)?"windows":/linux/.test(c)?"linux":/iphone|ipod|ipad|ios/.test(c)?"ios":/mac/.test(c)?"mac":void 0}(),ie:function(){return a.ActiveXObject||"ActiveXObject"in a?(c.match(/msie\s(\d+)/)||[])[1]||"11":!1}(),weixin:d("micromessenger")};return b&&!e[b]&&(e[b]=d(b)),e.android=/android/.test(c),e.ios="ios"===e.os,e.mobile=e.android||e.ios?!0:!1,e},d.prototype.hint=function(){return{error:g}},d.prototype._typeof=function(a){return null===a?String(a):"object"==typeof a||"function"==typeof a?function(){var b=Object.prototype.toString.call(a).match(/\s(.+)\]$/)||[],c="Function|Array|Date|RegExp|Object|Error|Symbol";return b=b[1]||"Object",new RegExp("\\b("+c+")\\b").test(b)?b.toLowerCase():"object"}():typeof a},d.prototype._isArray=function(b){var d,c=this,e=c._typeof(b);return b&&"object"==typeof b&&b!==a?(d="length"in b&&b.length,"array"===e||0===d||"number"==typeof d&&d>0&&d-1 in b):!1},d.prototype.each=function(a,b){var c,d=this,e=function(a,c){return b.call(c[a],a,c[a])};if("function"!=typeof b)return d;if(a=a||[],d._isArray(a))for(c=0;c<a.length&&!e(c,a);c++);else for(c in a)if(e(c,a))break;return d},d.prototype.sort=function(a,b,c){var d=JSON.parse(JSON.stringify(a||[]));return b?(d.sort(function(a,c){var d=a[b],e=c[b],f=[!isNaN(d),!isNaN(e)];return f[0]&&f[1]?d&&!e&&0!==e?1:!d&&0!==d&&e?-1:d-e:f[0]||f[1]?f[0]||!f[1]?-1:!f[0]||f[1]?1:void 0:d>e?1:e>d?-1:0}),c&&d.reverse(),d):d},d.prototype.stope=function(b){b=b||a.event;try{b.stopPropagation()}catch(c){b.cancelBubble=!0}},j="LAYUI-EVENT-REMOVE",d.prototype.onevent=function(a,b,c){return"string"!=typeof a||"function"!=typeof c?this:d.event(a,b,null,c)},d.prototype.event=d.event=function(a,b,d,e){var f=this,g=null,h=(b||"").match(/\((.*)\)$/)||[],i=(a+"."+b).replace(h[0],""),k=h[1]||"",l=function(a,b){var c=b&&b.call(f,d);c===!1&&null===g&&(g=!1)};return d===j?(delete(f.cache.event[i]||{})[k],f):e?(c.event[i]=c.event[i]||{},c.event[i][k]=[e],this):(layui.each(c.event[i],function(a,b){return"{*}"===k?(layui.each(b,l),void 0):(""===a&&layui.each(b,l),k&&a===k&&layui.each(b,l),void 0)}),g)},d.prototype.on=function(a,b,c){var d=this;return d.onevent.call(d,b,a,c)},d.prototype.off=function(a,b){var c=this;return c.event.call(c,b,a,j)},a.layui=new d}(window),layui.define(function(a){"use strict";var f,b={open:"{{",close:"}}"},c={exp:function(a){return new RegExp(a,"g")},query:function(a,c,e){var f=["#([\\s\\S])+?","([^{#}])*?"][a||0];return d((c||"")+b.open+f+b.close+(e||""))},escape:function(a){return String(a||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},error:function(a,b){var c="Laytpl Error: ";return"object"==typeof console&&console.error(c+a+"\n"+(b||"")),c+a}},d=c.exp,e=function(a){this.tpl=a};e.pt=e.prototype,window.errors=0,e.pt.parse=function(a,e){var f=this,g=a,h=d("^"+b.open+"#",""),i=d(b.close+"$","");a=a.replace(/\s+|\r|\t|\n/g," ").replace(d(b.open+"#"),b.open+"# ").replace(d(b.close+"}"),"} "+b.close).replace(/\\/g,"\\\\").replace(d(b.open+"!(.+?)!"+b.close),function(a){return a=a.replace(d("^"+b.open+"!"),"").replace(d("!"+b.close),"").replace(d(b.open+"|"+b.close),function(a){return a.replace(/(.)/g,"\\$1")})}).replace(/(?="|')/g,"\\").replace(c.query(),function(a){return a=a.replace(h,"").replace(i,""),'";'+a.replace(/\\(.)/g,"$1")+';view+="'}).replace(c.query(1),function(a){var c='"+(';return a.replace(/\s/g,"")===b.open+b.close?"":(a=a.replace(d(b.open+"|"+b.close),""),/^=/.test(a)&&(a=a.replace(/^=/,""),c='"+_escape_('),c+a.replace(/\\(.)/g,"$1")+')+"')}),a='"use strict";var view = "'+a+'";return view;';try{return f.cache=a=new Function("d, _escape_",a),a(e,c.escape)}catch(j){return delete f.cache,c.error(j,g)}},e.pt.render=function(a,b){var e,d=this;return a?(e=d.cache?d.cache(a,c.escape):d.parse(d.tpl,a),b?(b(e),void 0):e):c.error("no data")},f=function(a){return"string"!=typeof a?c.error("Template not found"):new e(a)},f.config=function(a){a=a||{};for(var c in a)b[c]=a[c]},f.v="1.2.0",a("laytpl",f)}),layui.define(["laytpl"],function(a){"use strict";var b=layui.$,c=layui.laytpl,d=layui.hint(),e={config:{},index:layui.table?layui.table.index+1e4:0,set:function(a){var c=this;return c.config=b.extend({},c.config,a),c},on:function(a,b){return layui.onevent.call(this,h,a,b)}},f=function(){var a=this,b=a.config,c=b.id||b.index;return c&&(f.that[c]=a,f.config[c]=b),{config:b,reload:function(b,c){a.reload.call(a,b,c)},setColsWidth:function(){a.setColsWidth.call(a)},resize:function(){a.resize.call(a)}}},g=function(a,d,e,f){this.config||{};var h=a.templet?function(){return"function"==typeof a.templet?a.templet(e):c(b(a.templet).html()||String(d)).render(e)}():d;return f?b("<div>"+h+"</div>").text():h},h="table",i=".db-table",l="db-hide",n="db-none",o="db-table-view",p=".db-table-box",q=".db-table-header",r=".db-table-body",s=".db-table-main",t=".db-table-fixed",u=".db-table-fixed-l",v=".db-table-fixed-r",w="db-table-hover",x=function(a){var b='{{#if(item2.colspan){}} colspan="{{item2.colspan}}"{{#} if(item2.rowspan){}} rowspan="{{item2.rowspan}}"{{#}}}';return a=a||{},['<table cellspacing="0" cellpadding="0" border="0" class="db-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<thead>","{{# layui.each(d.data.cols, function(i1, item1){ }}","<tr>","{{# layui.each(item1, function(i2, item2){ }}",'{{# if(item2.fixed && item2.fixed !== "right"){ left = true; } }}','{{# if(item2.fixed === "right"){ right = true; } }}',function(){return a.fixed&&"right"!==a.fixed?'{{# if(item2.fixed && item2.fixed !== "right"){ }}':"right"===a.fixed?'{{# if(item2.fixed === "right"){ }}':""}(),'<th data-name="{{ item2.name||i2 }}" data-key="{{d.index}}-{{i1}}-{{i2}}" {{# if( item2.parentKey){ }}data-parentkey="{{ item2.parentKey }}"{{# } }} {{# if(item2.minWidth){ }}data-minwidth="{{item2.minWidth}}"{{# } }} '+b+' {{# if(item2.unresize || item2.colGroup){ }}data-unresize="true"{{# } }} class="{{# if(!item2.name){ }} db-table-col-special{{# } }}">','<div class="db-table-cell db-table-cell-',"{{# if(item2.colGroup){ }}","group","{{# } else { }}","{{d.index}}-{{i1}}-{{i2}}",'{{# if(item2.type !== "normal"){ }}'," db-table-cell-{{ item2.type }}","{{# } }}","{{# } }}",'" {{#if(item2.align){}}align="{{item2.align}}"{{#}}}>','<span>{{item2.title||""}}</span>',"</div>","</th>",a.fixed?"{{# }; }}":"","{{# }); }}","</tr>","{{# }); }}","</thead>","</table>"].join("")},y=['<table cellspacing="0" cellpadding="0" border="0" class="db-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<tbody></tbody>","</table>"].join(""),z=['<div class="db-border-box {{d.VIEW_CLASS}}{{# if(d.data.className){ }} {{ d.data.className }}{{# } }}" db-from="UI-table-{{d.index}}" lay-id="{{ d.data.id }}" style="{{# if(d.data.width){ }}width:{{d.data.width}}px;{{# } }} {{# if(d.data.height){ }}height:{{d.data.height}}px;{{# } }}">','<div class="db-table-box">',"{{# var left, right; }}",'<div class="db-table-header">',x(),"</div>",'<div class="db-table-body db-table-main">',y,"</div>","{{# if(left){ }}",'<div class="db-table-fixed db-table-fixed-l">','<div class="db-table-header">',x({fixed:!0}),"</div>",'<div class="db-table-body">',y,"</div>","</div>","{{# }; }}","{{# if(right){ }}",'<div class="db-table-fixed db-table-fixed-r">','<div class="db-table-header">',x({fixed:"right"}),'<div class="db-table-mend"></div>',"</div>",'<div class="db-table-body">',y,"</div>","</div>","{{# }; }}","</div>","<style>","{{# layui.each(d.data.cols, function(i1, item1){","layui.each(item1, function(i2, item2){ }}",".db-table-cell-{{d.index}}-{{i1}}-{{i2}}{ ","{{# if(item2.width){ }}","width: {{item2.width}}px;","{{# } }}"," }","{{# });","}); }}","</style>","</div>"].join(""),A=b(window),C=(b(document),function(a){var c=this;c.index=++e.index,c.config=b.extend({},c.config,e.config,a),c.render()});C.prototype.config={cellMinWidth:80,text:{none:"无数据"}},C.prototype.render=function(){var e,f,g,h,a=this,d=a.config;return d.elem=b(d.elem),d.where=d.where||{},d.id=d.id||d.elem.attr("id")||a.index,d.response=b.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",totalRowName:"totalRow",countName:"count"},d.response),d.elem[0]?(d.height&&/^full-\d+$/.test(d.height)&&(a.fullHeightGap=d.height.split("-")[1],d.height=A.height()-a.fullHeightGap),a.setInit(),e=d.elem,f=e.next("."+o),g=a.elem=b(c(z).render({VIEW_CLASS:o,data:d,index:a.index})),d.index=a.index,a.key=d.id||d.index,f[0]&&f.remove(),e.after(g),a.layBox=g.find(p),a.layHeader=g.find(q),a.layMain=g.find(s),a.layBody=g.find(r),a.layFixed=g.find(t),a.layFixLeft=g.find(u),a.layFixRight=g.find(v),a.fullSize(),d.cols.length>1&&(h=a.layFixed.find(q).find("th"),h.height(a.layHeader.height()-1-parseFloat(h.css("padding-top"))-parseFloat(h.css("padding-bottom")))),a.pullData(a.page),a.events(),void 0):a},C.prototype.initOpts=function(a){var b=this,d=(b.config,{space:15,numbers:40});a.space&&(a.type="space"),a.type||(a.type="normal"),"normal"!==a.type&&(a.unresize=!0,a.width=a.width||d[a.type])},C.prototype.setInit=function(a){var b=this,c=b.config;return c.clientWidth=c.width||function(){var a=function(b){var d,e;b=b||c.elem.parent(),d=b.width();try{e="none"===b.css("display")}catch(f){}return!b[0]||d&&!e?d:a(b.parent())};return a()}(),"width"===a?c.clientWidth:(layui.each(c.cols,function(a,d){layui.each(d,function(e,f){if(!f)return d.splice(e,1),void 0;if(f.key=a+"-"+e,f.hide=f.hide||!1,f.colGroup||f.colspan>1){var g=0;layui.each(c.cols[a+1],function(b,c){c.HAS_PARENT||g>1&&g==f.colspan||(c.HAS_PARENT=!0,c.parentKey=a+"-"+e,g+=parseInt(c.colspan>1?c.colspan:1))}),f.colGroup=!0}b.initOpts(f)})}),void 0)},C.prototype.setParentCol=function(a,b){var g,h,i,c=this,d=c.config,e=c.layHeader.find('th[data-key="'+d.index+"-"+b+'"]'),f=parseInt(e.attr("colspan"))||0;e[0]&&(g=b.split("-"),h=d.cols[g[0]][g[1]],a?f--:f++,e.attr("colspan",f),e[1>f?"addClass":"removeClass"](l),h.colspan=f,h.hide=1>f,i=e.data("parentkey"),i&&c.setParentCol(a,i))},C.prototype.setColsPatch=function(){var a=this,b=a.config;layui.each(b.cols,function(b,c){layui.each(c,function(b,c){c.hide&&a.setParentCol(c.hide,c.parentKey)})})},C.prototype.setColsWidth=function(){var h,i,j,k,l,a=this,b=a.config,c=0,d=0,e=0,f=0,g=a.setInit("width");a.eachCols(function(a,b){b.hide||c++}),g=g-function(){return"line"===b.skin||"nob"===b.skin?2:c+1}()-a.getScrollWidth(a.layMain[0])-1,h=function(a){layui.each(b.cols,function(c,h){layui.each(h,function(c,i){var j=0,k=i.minWidth||b.cellMinWidth;return i?(i.colGroup||i.hide||(a?e&&k>e&&(d--,j=k):(j=i.width||0,/\d+%$/.test(j)?(j=Math.floor(parseFloat(j)/100*g),k>j&&(j=k)):j||(i.width=j=0,d++)),i.hide&&(j=0),f+=j),void 0):(h.splice(c,1),void 0)})}),g>f&&d&&(e=(g-f)/d)},h(),h(!0),a.autoColNums=d,a.eachCols(function(c,d){var f=d.minWidth||b.cellMinWidth;d.colGroup||d.hide||(0===d.width?a.getCssRule(b.index+"-"+d.key,function(a){a.style.width=Math.floor(e>=f?e:f)+"px"}):/\d+%$/.test(d.width)&&a.getCssRule(b.index+"-"+d.key,function(a){a.style.width=Math.floor(parseFloat(d.width)/100*g)+"px"}))}),i=a.layMain.width()-a.getScrollWidth(a.layMain[0])-a.layMain.children("table").outerWidth(),a.autoColNums&&i>=-c&&c>=i&&(j=function(b){var c;return b=b||a.layHeader.eq(0).find("thead th:last-child"),c=b.data("name"),!c&&b.prev()[0]?j(b.prev()):b},k=j(),l=k.data("key"),a.getCssRule(l,function(b){var c=b.style.width||k.outerWidth();b.style.width=parseFloat(c)+i+"px",a.layMain.height()-a.layMain.prop("clientHeight")>0&&(b.style.width=parseFloat(b.style.width)-1+"px")}))},C.prototype.resize=function(){var a=this;a.fullSize(),a.setColsWidth(),a.scrollPatch()},C.prototype.reload=function(a,c){var d=this;a=a||{},delete d.haveInit,layui.each(a,function(a,b){"array"===layui._typeof(b)&&delete d.config[a]}),d.config=b.extend(c,{},d.config,a),d.render()},C.prototype.errorView=function(a){var c=this,d=c.layMain.find("."+n),e=b('<div class="'+n+'">'+(a||"Error")+"</div>");d[0]&&(c.layNone.remove(),d.remove()),c.layFixed.addClass(l),c.layMain.find("tbody").html(""),c.layMain.append(c.layNone=e)},C.prototype.page=1,C.prototype.pullData=function(a){var f,c=this,d=c.config,e=d.response;c.startTime=(new Date).getTime(),"array"===layui._typeof(d.data)&&(f={},f[e.dataName]=d.data,f[e.countName]=d.data.length,"object"==typeof d.totalRow&&(f[e.totalRowName]=b.extend({},d.totalRow)),c.renderData(f,a,f[e.countName]),c.setColsWidth(),c.autoFixedHeight(),"function"==typeof d.done&&d.done(f,a,f[e.countName]))},C.prototype.autoFixedHeight=function(){var d,e,f,g,h,a=this,c=a.config;c.elem=b(c.elem),d=c.elem[0],e=b(d).next("."+o),f=e.find(t),e.find(s).find("tr").each(function(){g=b(this).attr("data-index"),h=b(this).css("height"),f.find("tr[data-index="+g+"]").css("height",h)})},C.prototype.eachCols=function(a){var b=this;return e.eachCols(null,a,b.config.cols),b},C.prototype.renderData=function(a){var f=this,h=f.config,i=a[h.response.dataName]||[],k=(a[h.response.totalRowName],[]),m=[],o=[],p=function(){layui.each(i,function(a,c){var d=[],e=[],i=[],j=a+1;("array"!==layui._typeof(c)||0!==c.length)&&(f.eachCols(function(a,k){var q,m=k.name||a,n=h.index+"-"+k.key,o=k.align||"center",p=c[m];(void 0===p||null===p)&&(p=""),k.colGroup||(q=['<td data-name="'+m+'" data-key="'+n+'" '+function(){var a=[];return o&&a.push('align="'+o+'"'),k.style&&a.push('style="'+k.style+'"'),k.minWidth&&a.push('data-minwidth="'+k.minWidth+'"'),a.join(" ")}()+' class="'+function(){var a=[];return k.hide&&a.push(l),k.name||a.push("db-table-col-special"),a.join(" ")}()+'">','<div class="db-table-cell db-table-cell-'+function(){return"normal"===k.type?n:n+" db-table-cell-"+k.type}()+'">'+function(){var a=b.extend(!0,{LAY_INDEX:j,LAY_COL:k},c);return g.call(f,k,p,a)}(),"</div></td>"].join(""),d.push(q),k.fixed&&"right"!==k.fixed&&e.push(q),"right"===k.fixed&&i.push(q))}),k.push('<tr data-index="'+a+'">'+d.join("")+"</tr>"),m.push('<tr data-index="'+a+'">'+e.join("")+"</tr>"),o.push('<tr data-index="'+a+'">'+i.join("")+"</tr>"))}),f.layBody.scrollTop(0),f.layMain.find("."+n).remove(),f.layMain.find("tbody").html(k.join("")),f.layFixLeft.find("tbody").html(m.join("")),f.layFixRight.find("tbody").html(o.join("")),f.haveInit?f.scrollPatch():setTimeout(function(){f.scrollPatch()},50),f.haveInit=!0,h.HAS_SET_COLS_PATCH||f.setColsPatch(),h.HAS_SET_COLS_PATCH=!0};return 0===i.length?f.errorView(h.text.none):(f.layFixed.removeClass(l),p(),void 0)},C.prototype.getCssRule=function(a,b){var c=this,d=c.elem.find("style")[0],e=d.sheet||d.styleSheet||{},f=e.cssRules||e.rules;layui.each(f,function(c,d){return d.selectorText===".db-table-cell-"+a?(b(d),!0):void 0})},C.prototype.fullSize=function(){var d,a=this,b=a.config,c=b.height;a.fullHeightGap&&(c=A.height()-a.fullHeightGap,135>c&&(c=135),a.elem.css("height",c)),c&&(d=parseFloat(c)-(a.layHeader.outerHeight()||38),a.layMain.css("height",d-2))},C.prototype.getScrollWidth=function(a){var b=0;return a?b=a.offsetWidth-a.clientWidth:(a=document.createElement("div"),a.style.width="100px",a.style.height="100px",a.style.overflowY="scroll",document.body.appendChild(a),b=a.offsetWidth-a.clientWidth,document.body.removeChild(a)),b},C.prototype.scrollPatch=function(){var i,j,a=this,c=a.layMain.children("table"),d=a.layMain.width()-a.layMain.prop("clientWidth"),e=a.layMain.height()-a.layMain.prop("clientHeight"),g=(a.getScrollWidth(a.layMain[0]),c.outerWidth()-a.layMain.width()),h=function(a){if(d&&e){if(a=a.eq(0),!a.find(".db-table-patch")[0]){var c=b('<th class="db-table-patch"><div class="db-table-cell"></div></th>');c.find("div").css({width:d}),a.find("tr").append(c)}}else a.find(".db-table-patch").remove()};h(a.layHeader),i=a.layMain.height(),j=i-e,a.layFixed.find(r).css("height",c.height()>=j?j:"auto"),a.layFixRight[g>0?"removeClass":"addClass"](l),a.layFixRight.css("right",d-1)},C.prototype.events=function(){var a=this;a.layBody.on("mouseenter","tr",function(){var c=b(this),d=c.index();c.data("off")||a.layBody.find("tr:eq("+d+")").addClass(w)}).on("mouseleave","tr",function(){var c=b(this),d=c.index();c.data("off")||a.layBody.find("tr:eq("+d+")").removeClass(w)}),a.layMain.on("scroll",function(){var c=b(this),d=c.scrollLeft(),e=c.scrollTop();a.layHeader.scrollLeft(d),a.layFixed.find(r).scrollTop(e)}),A.on("resize",function(){a.resize()})},e.init=function(a,c){c=c||{};var f=this,h=a?b('table[table-rule="'+a+'"]'):b(i+"[tb-rule]"),j="Table element property tb-rule configuration item has a syntax error: ";return h.each(function(){var i,k,f=b(this),g=f.attr("tb-rule");try{g=new Function("return "+g)()}catch(h){d.error(j+g,"error")}i=[],k=b.extend({elem:this,cols:[],data:[],skin:f.attr("lay-skin"),size:f.attr("lay-size"),even:"string"==typeof f.attr("lay-even")},e.config,c,g),a&&f.hide(),f.find("thead>tr").each(function(a){k.cols[a]=[],b(this).children().each(function(){var h,e=b(this),f=e.attr("tb-rule");try{f=new Function("return "+f)()}catch(g){return d.error(j+f)}h=b.extend({title:e.html(),colspan:e.attr("colspan")||0,rowspan:e.attr("rowspan")||0},f),h.colspan<2&&i.push(h),k.cols[a].push(h)})}),f.find("tbody>tr").each(function(a){var c=b(this),d={};c.children("td").each(function(a){var e=b(this);return e.data("name"),d[a]=e.html()}),k.data[a]=d}),e.render(k)}),f},f.that={},f.config={},e.eachCols=function(a,c,d){var i,e=f.config[a]||{},g=[],h=0;d=b.extend(!0,[],d||e.cols),layui.each(d,function(a,b){layui.each(b,function(b,c){if(c.colGroup){var e=0;h++,c.CHILD_COLS=[],layui.each(d[a+1],function(a,b){b.PARENT_COL_INDEX||e>1&&e==c.colspan||(b.PARENT_COL_INDEX=h,c.CHILD_COLS.push(b),e+=parseInt(b.colspan>1?b.colspan:1))})}c.PARENT_COL_INDEX||g.push(c)})}),i=function(a){layui.each(a||g,function(a,b){return b.CHILD_COLS?i(b.CHILD_COLS):("function"==typeof c&&c(a,b),void 0)})},i()},e.render=function(a){var b=new C(a);return f.call(b)},e.clearCacheKey=function(a){return a=b.extend({},a)},b(function(){e.init()}),a(h,e)});